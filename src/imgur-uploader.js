
async function wp_crawler_image_upload (hex)
{
    var axios = require('axios').default;
    var FormData = require('form-data');
    var data = new FormData();
    var link;

    var links = new Map();
    var linkss = "";
    
    data.append('image', `${hex}`);


    var clientId= '';

    var config = {
    method: 'post',
    url: 'https://api.imgur.com/3/image',
    headers: { 
        'Authorization': `Client-ID ${clientId}`, 
        ...data.getHeaders()
    },
    data : data
    };

    await axios(config)
    .then(function (response) {
     link = JSON.parse(JSON.stringify(response.data))['data']['link'];
    })
    .catch(function (error) {
    console.log(error);
    });

    return link;
    
}

// sample hex for testing purposes
var hex = "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";
wp_crawler_image_upload(hex).then(res => console.log(res));
